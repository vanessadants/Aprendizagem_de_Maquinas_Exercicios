function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 16-Jun-2018 17:05:31.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 400xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Layer 1
IW1_1 = [0.04941839463152857 -0.02196130715048631 1;0.052229285681167234 -0.011697067192603796 1;0.055040176730805905 -0.0014328272347212826 1;0.046070826541207276 0.0081798135786203992 1;0.052324918862572269 0.020062316933944176 1;0.041397086071592037 0.039211183906716719 1;0.035578991777827085 0.03394725700128419 1;0.016931691050296894 0.038778463134025373 1;0.031083912147516837 -0.032674509127223819 0;0.036595840661157286 -0.025693503984141788 0;0.042107769174797742 -0.018712498841059765 0;0.039009964589575216 -0.01067933865398495 0;0.040655003562877934 -0.0048500519276833435 0;0.047042886094705902 -0.0012246386621549423 0;0.044855161376242847 0.01719827728767083 0;0.039939093714516399 0.015413567769412183 0;0.035023026052789966 0.01362885825115354 0;0.027053841084266492 0.01748793327606505 0;0.024000723777469455 0.023131717819235207 0;0.035588966705288889 0.033709752326957297 0;0.037345545513622527 -0.029104300477110948 1;0.038911221694531505 -0.011070749905549678 1;0.039366622469142597 -0.00068311907704292699 1;0.037551588102308325 0.014772883692301633 1;0.033703483627441147 0.02165268800366122 0.99999999999999989;0.029760897484062125 0.028683330095851656 1;0.010442777985713525 0.024494275528259338 1;0.013942024727183274 0.0064753287351091773 0.66666666666666663;0.031083912147516837 -0.032674509127223812 0;0.031215967684414325 -0.024173266639485387 0;0.027879238499222008 -0.012100878458740146 0;0.034267121031049966 -0.0084754651932117449 0;0.031367826668639513 -0.00054431798967563897 0;0.023411977526411217 0.0028457679265890133 0;0.030106958391063525 0.011844148732894895 0;0.02505825016114745 0.01621637207415922 0;0.018106770961556318 0.01819418558468068 0;0.020200331425542652 0.019539803402211019 0;0.018300135249579248 0.017743846193698926 0;0.013730518692316758 0.031446853792652642 0;0.036597927867598086 -0.038470682920226998 1;0.030964082371879129 -0.026879661897820262 1;0.035217773536436577 -0.015286141949814969 1;0.031739287453153013 0.0015654397157721083 1;0.022875070008590726 0.0092290636874234264 1;0.01831134123552141 0.017957349705729712 1;0.014703600188404132 0.024685293783533176 1;0.00029938404831946191 0.027606219804292009 1;0.013942024727183274 0.0064753287351091773 0.66666666666666663;0.020668662335878635 -0.026747431412024819 0;0.020456221730928398 -0.021132791950172591 0;0.024167730115075205 -0.016616835204456368 0;0.029623532583930759 -0.0063225982242078923 0;0.026063927240487315 0.0017157392878341289 0;0.020760027812335116 0.0039757965653438969 0;0.012599546721689045 0.012355974568162646 0;0.00021263071613598146 0.019606690201911938 0;0.0073053306969277235 0.017135170656735178 0;0.016399939073615845 0.015947888985186832 0;0.0068647524202416575 0.0075357164250472956 0;0.023698211533391161 -0.036961884623585094 1;0.026020314041740926 -0.026880911360619538 1;0.020906135473107993 -0.0088594916900272061 1;0.0234152787690548 0.0029393627131367281 1;0.017268809648828414 0.0092706076069833387 1;0.0058699175896215691 0.013330684619737007 1;0.0019457097884872012 0.02134456489241527 1;0.0053710810170164939 0.026050247666275672 1;0.013174747907445094 -0.033797077946800959 0;0.010465853129190669 -0.026434993158678054 0;0.015461037430059534 -0.023783892554425323 0;0.0096314340402918856 -0.0097787810820240718 0;0.020499630354465698 -0.0051615495358498555 0;0.023411977526411217 0.0028457679265890133 0;0.015456128384182921 0.0062358538428536657 0;0.0077345485392964737 0.012201925413366562 0;0.0052358239764728658 0.0090192725924694555 0;0.0052027112406592049 0.0074664584707199253 0;0.0068647524202416575 0.0075357164250472947 0;0.0013879866248108386 0.0013849795140355534 0;0.018763876559373033 -0.04862269091085672 1;0.015195110629692742 -0.038789732505376984 1;0.013410727664852597 -0.033873253302637123 1;0.023685383149286837 -0.00020548777400662089 1;0.01164659980174686 0.0056439043220269406 1;0.0042034442019146835 0.010101504808786832 1;2.5856381595523458e-05 0.011921540587799642 1;-0.0049050326685713824 0.01193319934469448 1;0.015883642685699518 -0.041159162734923864 0;0.010301020822589511 -0.037969574384234601 0;0.0062259230606927845 -0.034541737892338518 0;0.0046073428392022454 -0.018613298924681797 0;0.0096314340402918856 -0.0097787810820240718 0;0.0096314340402918856 -0.0097787810820240718 0;0.014894018590357799 0.00012058549056598008 0;0.015685684204825717 -0.00013608461854743104 0;0.0079165333301198428 0.0034475380155244385 0;0.0041338249982989248 0.0029580772256919156 0;0.00045298377201002672 0.00018734432899093696 0;0.0011299581187942697 0.002715458281931944 0;-0.0012198981764928003 -0.05112270226960916 1;0.010607119446568494 -0.026547353798193424 1;0.015245184166633443 -0.015478413484118103 1;0.0070509720540390605 0.0070356959313006119 1;0.0053259814789624049 0.0079053170732603338 1;-0.0021531233579325506 0.0039857183280746986 0.85714285714285698;-0.01155026628210027 -0.001530287046159387 0.66666666666666663;-0.004110509866297761 -0.042340072755125018 0.80000000000000004;-0.0010290552102316566 -0.043124978908412631 0;-0.00072551351837590438 -0.038683621392427689 0;-0.00041674836188739455 -0.027447816767339525 0;0.0046696344505787035 -0.016345206621160683 0;0.0072128258568117526 -0.010793901548071264 0;0.013540243182064761 -0.0057380127526082932 0;0.0026859921425277759 -0.0045374051499570984 0;0.0037587126539082531 -0.0017364410829266673 0;0.0055305505829485908 7.9534679811481008e-05 0;-0.00031921556391978226 0.0016361929955044036 0;-0.0009275544235483311 0.0042277248662063987 0;8.5053886827379801e-06 0.0039215594038814611 0;-0.00053820074163743524 -0.035446894796678473 1;0.0023789032721183278 -0.024810878864326601 1;0.0078035112282843913 -0.019221454293749728 1;0.0078035112282843913 -0.019221454293749728 1;0.0081493313516118465 0.001716074053556983 1;-0.0012194937434485981 -0.00052481366752881852 0.80000000000000004;-0.012804681508457674 -0.010384378361757738 0.5;-0.029771622559324955 -0.028445601070972281 0;-0.017036351495228336 -0.038561169643049807 0;-0.011397135944071355 -0.036138009319945832 0;-0.0072422351607361185 -0.033359671101018257 0;0.0021887346557221128 -0.019628419390728988 0;0.0047942176733316204 -0.011809022014118454 0;0.0091672304276981913 -0.0087735173833633738 0;-0.00045277968948158158 -0.0014811401909695038 0;-0.0058799052092500751 -0.00088083638964390728 0;-0.0081682588970092111 -0.0033367975473059036 0;-0.0018636142357794003 0.0045338903285313372 0;-0.0018636142357794003 0.0045338903285313372 0;-0.002000335503987192 0.0042094704506062484 0;-0.00026513402740712647 -0.024991823267260557 1;-0.0016608130485489393 -0.017168856437649399 1;-0.0024269192376774225 -0.015871140905198301 1;-0.007291826163343367 -0.017311259727160831 1;0.0030022788466267749 -0.0046263705400156211 1;-0.0044909866187004214 -0.0083378176546194376 0.66666666666666663;-0.029771622559324955 -0.028445601070972281 0;-0.021694855320095303 -0.028258392544237704 0;-0.013761568535412712 -0.031432944364160442 0;-0.010486785575597091 -0.024304719085271077 0;-0.0052816667968140132 -0.018034587966013992 0;0.0047942176733316196 -0.011809022014118454 0;-0.0010878442755696623 -0.0093518754114223519 0;-0.0047176697558176071 -0.0012481597575633571 0;-0.0090186770412594309 0.0021754285693436869 0;-0.017220256841078939 -0.0011734090763829193 0;-0.022769165401180971 -0.0090716919704873257 0;-0.0018636142357794003 0.0045338903285313372 0;-0.0030047559503221582 0.0043534259739686429 0;-0.0041458976648649157 0.0041729616194059486 0;-0.00012860067029197208 -0.019764287502551603 1;-0.006392975186965604 -0.016142557509599236 1;-0.012657349703639235 -0.012520827516646871 1;-0.01365612521622199 -0.031650145297708564 1;-0.0056145693680586129 -0.026324809177057928 1;-0.0015900344696289127 -0.00046977404153915065 0.75;-0.0035341558575861416 0.007716081780502114 0.5;-0.021038842060076619 -0.010260614809553027 0;-0.018276591905732616 -0.01776840691869103 0;-0.0052816667968140132 -0.018034587966013992 0;-0.0035466272038863207 -0.015944544259594962 0;-7.6548018030935766e-05 -0.011764456846756905 0;-0.0055781182426315329 -0.0084166717373163908 0;-0.006969906224470945 -0.0068947288087262502 0;-0.013846626224758792 0.00099676673995911097 0;-0.026987202161145772 -0.0049121643321901991 0;-0.027669141886523883 -0.010898815751900798 0;-0.022769165401180971 -0.0090716919704873257 0;-0.0041458976648649157 0.0041729616194059486 0;-0.0041458976648649157 0.0041729616194059486 0;-0.0097843184890812011 0.0098481894217980377 1;-0.015574146963630894 -0.006362160656863256 1;-0.014800432480040385 -0.026559716731758477 1;-0.012562710055362934 -0.038044201568128697 1;-0.0082509096013906602 -0.021755127982472186 0.83333333333333326;-0.0073788744767815211 0.010288109040669485 0.33333333333333331;-0.020723346225046638 0.0088882622886444721 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-7.6548018030937054e-05 -0.011764456846756907 0;-7.6548018030935319e-05 -0.011764456846756907 0;-0.0041863302607921208 -0.0099386146659065314 0;-0.013637257452247578 -0.0064803713216216967 0;-0.016787566516066062 -0.0053276235401934179 0;-0.037469094857209707 -0.014553063314727747 0;-0.032569118371866795 -0.012725939533314272 0;-0.022189532098088778 -0.0069914834686186133 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0078430634664325843 3.402147471190724e-05 0;-0.0078430634664325843 3.4021474711907226e-05 0;-0.0097843184890812011 0.0098481894217980377 1;-0.013709699186267854 0.0057398031387265631 1;-0.017352076392854507 -0.0043669257983832317 1;-0.016103323868545009 -0.024219007341603298 0.99999999999999989;-0.020269296337113527 -0.045878824161358793 1;-0.014362218465697137 -0.0081089908683521679 0.5;-0.015068311715172282 0.015432163561004228 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.021696396661863623 -0.0045440709059270008 0;-0.027533085462220788 -0.0027458896526004911 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.021899715446542681 -0.0059513792176842575 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0078430634664325843 3.4021474711907226e-05 0;-0.010638797487325517 0.026534942721918767 1;-0.013397161625262397 0.010781156413187793 1;-0.016818754138873016 -0.0029491558584311042 1;-0.016738150336720818 -0.013904363976485212 1;-0.014615136089926442 -0.01900615297728591 1;-0.0076616854332591192 0.019109526651587591 0;-0.0076616854332591192 0.019109526651587591 0;-0.0062588327401788485 0.034536201691368673 0;-0.0062588327401788485 0.034536201691368673 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.037106988709294332 0.0081130783690423567 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0078430634664325843 3.4021474711907335e-05 0;-0.0078430634664325843 3.4021474711907335e-05 0;0.00084504241586159142 0.043285869820909977 1;-0.011441795686850277 0.031749564469751967 1;-0.020657285514981642 0.021156093318176708 1;-0.01584298820219382 6.8723378918052628e-05 1;-0.022234705813656625 -0.015565498769019706 1;-0.019597218636866032 -0.0070749363328694234 0.66666666666666663;-0.0076616854332591192 0.019109526651587591 0;-0.0034863960797294549 0.027198460263664709 0;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021112 0.035287393875741827 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.006330336035875659 0.0026503048793592322 0;-0.0063303360358756581 0.0026503048793592309 0;-0.0063303360358756581 0.0026503048793592309 0;-0.016119140360480302 0.041235973765835612 1;-0.017018127219442278 0.027520775781026949 1;-0.02807562905967188 0.012041663170180947 1;-0.028214433399209385 -0.012989184797097458 1;-0.024012629980762541 -0.023344953090095596 1;-0.021608754473483604 -0.0074313241708725102 0.5;-0.0076616854332591192 0.019109526651587591 0;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.023527419501023966 0.00030618559064210168 0;-0.023527419501023966 0.00030618559064210168 0;-0.037469094857209707 -0.014553063314727747 0;-0.037469094857209707 -0.014553063314727747 0;-0.031333963093927185 0.03265254826669136 1;-0.028259186895886485 0.019398784370895334 1;-0.031526742131372118 0.00041028869146041738 1;-0.031084835083623558 -0.0037373716155778506 1;-0.031871151905333274 -0.014406817690295242 1;-0.032878422250917264 -0.023002433611493497 1;-0.03555582351370809 -0.033972174993332611 1;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.023527419501023966 0.00030618559064210255 0;-0.023527419501023966 0.0003061855906421025 0;-0.023527419501023966 0.00030618559064210255 0;-0.037469094857209707 -0.014553063314727747 0;-0.039530828407076037 0.011265273483368799 1;-0.044926358614156808 -0.017449477867122344 1;-0.038226550372764463 -0.0085195945878309629 1;-0.030863881559749281 -0.0058112017690969851 1;-0.030201020988126444 -0.012032692229654387 1;-0.03555582351370809 -0.033972174993332611 1;-0.03555582351370809 -0.033972174993332618 1;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.013206558754157908 0.033785009506995513 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252804 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.023527419501023966 0.00030618559064210255 0;-0.023527419501023966 0.00030618559064210255 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.042332163513144117 0.018592750050537381 1;-0.043629261063650462 0.00057163609170751868 1;-0.044926358614156808 -0.017449477867122344 1;-0.047204581527773889 0.0010239693162792454 1;-0.047204581527773889 0.0010239693162792448 1;-0.03555582351370809 -0.033972174993332611 1;-0.03555582351370809 -0.033972174993332611 1;0.00068889327380021047 0.035287393875741827 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.039206463062935126 0.00085047285405252804 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252977 0;-0.042332163513144117 0.018592750050537381 1;-0.044926358614156808 -0.017449477867122344 1;-0.047204581527773889 0.0010239693162792454 1;-0.047204581527773889 0.0010239693162792448 1;-0.047204581527773889 0.0010239693162792448 1;-0.03555582351370809 -0.033972174993332611 1;0.00068889327380020765 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252804 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.044926358614156808 -0.017449477867122341 1;-0.044926358614156808 -0.017449477867122344 1;-0.044926358614156808 -0.017449477867122344 1;-0.047204581527773889 0.0010239693162792448 1;-0.047204581527773889 0.0010239693162792448 1;-0.03555582351370809 -0.033972174993332611 1;-0.03555582351370809 -0.033972174993332611 1;-0.03555582351370809 -0.033972174993332611 1;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.01950070786028122 0.030332678433461706 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.039206463062935126 0.00085047285405252891 0;-0.039206463062935126 0.00085047285405252891 0;-0.037469094857209707 -0.014553063314727747 0;-0.044926358614156808 -0.017449477867122341 1;-0.044926358614156808 -0.017449477867122344 1;-0.044926358614156808 -0.017449477867122344 1;-0.044926358614156808 -0.017449477867122344 1;-0.044926358614156808 -0.017449477867122344 1;-0.03555582351370809 -0.033972174993332611 1;-0.03555582351370809 -0.033972174993332611 1;-0.026597762951354895 -0.0053780863282377085 0.66666666666666663;0.00068889327380021047 0.035287393875741827 0;0.00068889327380021047 0.035287393875741827 0;-0.013206558754157908 0.033785009506995513 0;-0.013206558754157908 0.033785009506995513 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.025794856966404531 0.026880347359927899 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032185 0;-0.035007514355653538 0.015375683884032184 0;-0.037469094857209707 -0.014553063314727747 0;-0.037469094857209707 -0.014553063314727747 0];

% ===== SIMULATION ========

% Input 1
% no processing

% Layer 1
z1 = negdist_apply(IW1_1,x1);
a1 = compet_apply(z1);

% Output 1
y1 = a1;
end

% ===== MODULE FUNCTIONS ========

% Negative Distance Weight Function
function z = negdist_apply(w,p)
S = size(w,1);
Q = size(p,2);
z = zeros(S,Q);
if (Q<S)
    p = p';
    for q=1:Q
        z(:,q) = sum(bsxfun(@minus,w,p(q,:)).^2,2);
    end
else
    w = w';
    for i=1:S
        z(i,:) = sum(bsxfun(@minus,w(:,i),p).^2,1);
    end
end
z = -sqrt(z);
end

% Competitive Transfer Function
function a = compet_apply(n)
if isempty(n)
    a = n;
else
    [S,Q] = size(n);
    nanInd = any(isnan(n),1);
    
    a = zeros(S,Q);
    [~,rows] = max(n,[],1);
    onesInd = rows + S*(0:(Q-1));
    a(onesInd) = 1;
    
    a(:,nanInd) = NaN;
end
end
